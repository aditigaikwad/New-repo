
require "rubygems"
require "bundler/setup"


Bundler::GemHelper.install_tasks

Rake::Task[:build]

require "rspec/core/rake_task"

RSpec::Core::RakeTask.new(:spec) do |spec|
  spec.pattern = FileList["spec/*_spec.rb"]
  spec.rspec_opts = '--format html --out reports/rspec_results.html'

require "simplecov"

SimpleCov.coverage_dir("tmp/coverage")

SimpleCov.start

end

RuboCop::RakeTask.new(:rubocop) do |rubocop|
   rubocop.fail_on_error = false
   rubocop.patterns = FileList['/root/RORCIaditi/simplecov/spec/*.rb']

  #rubocop.options = ["--out", "rubocop-report.html"]
  rubocop.options = ["--format html --out rubocop-report.html"]

namespace :rspec_report do
  desc 'Run all specs and generate RSpec report in HTML'
  task :html => :spec

  desc 'Run all specs, generate RSpec report and open it in the browser'
  task :browser do
    Rake::Task[:spec].invoke
    `open reports/rspec_results.html` # This only works if running OS X.
  end
end


#if RUBY_VERSION.start_with? "1.8"
  task :default => [:spec]
